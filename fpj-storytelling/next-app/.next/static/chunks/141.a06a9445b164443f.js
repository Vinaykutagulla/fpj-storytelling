"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{141:function(e,t,s){s.r(t);var n=s(1920),a=s(7029),r=s(7437),l=s(2265);t.default=()=>{let[e,t]=(0,l.useState)({fps:0,minFps:120,longTasks:0,avgLongTask:0,maxLongTask:0,layoutShift:0,sectionUpdates:0,lastSectionUpdateMs:0}),s=(0,l.useRef)([]),i=(0,l.useRef)(null),c=(0,l.useRef)(!0),o=(0,l.useRef)([]);return(0,l.useEffect)(()=>{let e=e=>{let s=e.detail;s&&t(e=>(0,a._)((0,n._)({},e),{sectionUpdates:e.sectionUpdates+1,lastSectionUpdateMs:s.duration}))};return window.addEventListener("perf:sectionUpdate",e),()=>window.removeEventListener("perf:sectionUpdate",e)},[]),(0,l.useEffect)(()=>{let e=r=>{if(c.current){if(null!=i.current){let e=r-i.current;s.current.push(e),s.current.length>60&&s.current.shift();let l=1e3/(s.current.reduce((e,t)=>e+t,0)/s.current.length);t(e=>(0,a._)((0,n._)({},e),{fps:Math.round(l),minFps:Math.min(e.minFps,Math.round(l))}))}i.current=r,requestAnimationFrame(e)}},r=requestAnimationFrame(e);return()=>{c.current=!1,cancelAnimationFrame(r)}},[]),(0,l.useEffect)(()=>{if("PerformanceObserver"in window)try{let e=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let s=e.duration;o.current.push(s);let r=o.current,l=r.length,i=r.reduce((e,t)=>e+t,0)/l,c=Math.max(...r);t(e=>(0,a._)((0,n._)({},e),{longTasks:l,avgLongTask:Math.round(i),maxLongTask:Math.round(c)}))})});e.observe({entryTypes:["longtask"]});let s=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{if(void 0!==e.value&&!e.hadRecentInput){let s=e.value;t(e=>(0,a._)((0,n._)({},e),{layoutShift:parseFloat((e.layoutShift+s).toFixed(4))}))}})});return s.observe({type:"layout-shift",buffered:!0}),()=>{e.disconnect(),s.disconnect()}}catch(e){}},[]),(0,r.jsxs)("div",{className:"fixed bottom-2 left-2 z-[9999] font-mono text-[10px] sm:text-[11px] leading-tight bg-slate-900/85 text-slate-200 px-3 py-2 rounded-lg border border-slate-700 shadow-lg backdrop-blur-md select-none pointer-events-auto",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("strong",{className:"text-emerald-400",children:"Perf"}),(0,r.jsxs)("span",{className:e.fps<50?"text-rose-400":e.fps<58?"text-amber-400":"text-emerald-400",children:["FPS ",e.fps]}),(0,r.jsxs)("span",{className:"text-slate-400",children:["min ",120===e.minFps?"-":e.minFps]})]}),(0,r.jsxs)("div",{className:"mt-1 grid grid-cols-2 gap-x-4 gap-y-1",children:[(0,r.jsx)("span",{children:"Long tasks"}),(0,r.jsx)("span",{className:"text-slate-100",children:e.longTasks}),(0,r.jsx)("span",{children:"Avg long"}),(0,r.jsxs)("span",{children:[e.avgLongTask,"ms"]}),(0,r.jsx)("span",{children:"Max long"}),(0,r.jsxs)("span",{children:[e.maxLongTask,"ms"]}),(0,r.jsx)("span",{children:"CLS"}),(0,r.jsx)("span",{children:e.layoutShift}),(0,r.jsx)("span",{children:"Section updates"}),(0,r.jsx)("span",{children:e.sectionUpdates}),(0,r.jsx)("span",{children:"Last update"}),(0,r.jsxs)("span",{children:[e.lastSectionUpdateMs.toFixed(2),"ms"]})]}),(0,r.jsx)("div",{className:"mt-1 text-[9px] text-slate-500",children:"?perf=1 to enable â€¢ close tab to stop"})]})}}}]);