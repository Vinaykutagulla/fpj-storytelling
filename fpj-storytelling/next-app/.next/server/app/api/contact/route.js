"use strict";(()=>{var e={};e.id=386,e.ids=[386],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},747:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>v,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>u,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var r={};n.r(r),n.d(r,{POST:()=>p});var a=n(9303),o=n(8716),s=n(670),i=n(7070),c=n(3895);async function l(e){return console.log("[email:contact] queued",{to:"firstpharmajob@gmail.com",subject:`New contact form message from ${e.name}`,preview:e.message.slice(0,120),service:e.service||null,meta:{phone:e.phone||null,email:e.email}}),{ok:!0}}async function p(e){try{let t=await e.json();if(!t.name||!t.email)return i.NextResponse.json({ok:!1,error:"Missing fields"},{status:400});if(t.hp)return c.k.warn("contact spam blocked",{name:t.name,email:t.email}),i.NextResponse.json({ok:!0});let n={name:t.name,email:t.email,service:t.service,phone:t.phone||null,len:(t.message||"").length,ts:Date.now()};c.k.info("contact submission",n);try{await l({name:t.name,email:t.email,phone:t.phone,service:t.service,experience:t.experience,message:t.message,ua:e.headers.get("user-agent")||void 0})}catch(e){c.k.error("contact email send failed",{error:e?.message})}return i.NextResponse.json({ok:!0})}catch(e){return i.NextResponse.json({ok:!1,error:"Invalid JSON"},{status:400})}}let u=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:"app/api/contact/route"},resolvedPagePath:"C:\\Users\\lenovo\\Documents\\fpj-storytelling\\fpj-storytelling\\next-app\\src\\app\\api\\contact\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:d,serverHooks:g}=u,v="/api/contact/route";function h(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},3895:(e,t,n)=>{function r(e){let t={ts:new Date().toISOString(),...e};try{console.log(JSON.stringify(t))}catch{}}n.d(t,{k:()=>a});let a={info(e,t){r({level:"info",msg:e,...t})},warn(e,t){r({level:"warn",msg:e,...t})},error(e,t){r({level:"error",msg:e,...t})}}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[948,972],()=>n(747));module.exports=r})();